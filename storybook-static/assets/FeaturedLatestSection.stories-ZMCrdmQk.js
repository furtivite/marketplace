import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as x}from"./index-D4lIrffr.js";import{c as C}from"./clsx-B-dksMZM.js";import{C as N}from"./Container-CaYFRYVz.js";import{P as O}from"./ProductCardList-CAKSLL0D.js";import{m as $}from"./mockProducts-DKROpG_O.js";import"./Button-SjrcTJXZ.js";import"./Typography-DJ2vrFdG.js";import"./add-to-cart_white-0dkb7sx0.js";const i=({featured:s,latest:f,onAddToCart:b,onToggleLike:g})=>{const[d,c]=x.useState("featured"),o=x.useId(),y=x.useRef({}),t=[{label:"Featured",type:"featured"},{label:"Latest",type:"latest"}],u=e=>{var r;(r=y.current[e])==null||r.focus()},D=e=>{const r=t.findIndex(n=>n.type===d);switch(e.key){case"ArrowRight":{e.preventDefault();const n=t[(r+1)%t.length].type;c(n),u(n);break}case"ArrowLeft":{e.preventDefault();const n=t[(r-1+t.length)%t.length].type;c(n),u(n);break}case"Home":{e.preventDefault(),c(t[0].type),u(t[0].type);break}case"End":{e.preventDefault(),c(t[t.length-1].type),u(t[t.length-1].type);break}}};return a.jsx("section",{"aria-labelledby":`${o}-title`,children:a.jsxs(N,{className:"mt-[88px] mb-[128px]",children:[a.jsx("h2",{id:`${o}-title`,className:"sr-only",children:"Product lists"}),a.jsx("div",{role:"tablist","aria-labelledby":`${o}-title`,className:"flex justify-center gap-4 mb-8",children:t.map(({label:e,type:r})=>a.jsx("button",{ref:n=>{y.current[r]=n},id:`${o}-${r}-tab`,role:"tab","aria-controls":`${o}-${r}-panel`,"aria-selected":d===r,tabIndex:d===r?0:-1,type:"button",onClick:()=>c(r),onKeyDown:D,className:C("px-6 py-2 rounded-full text-sm font-medium transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",d===r?"bg-white text-neutral-800 border border-neutral-300":"text-neutral-500 hover:text-neutral-900 border border-transparent"),children:e},r))}),t.map(({type:e})=>a.jsx("div",{id:`${o}-${e}-panel`,role:"tabpanel","aria-labelledby":`${o}-${e}-tab`,hidden:d!==e,children:a.jsx(O,{products:e==="featured"?s.slice(0,4):f.slice(0,4),ariaLabel:e==="featured"?"Список избранных товаров":"Список последних товаров",onAddToCart:b,onToggleLike:g})},e))]})})};i.__docgenInfo={description:`Секция с переключением между «Featured» и «Latest» товарами.
Полностью соответствует ARIA-паттерну Tabs и WCAG-рекомендациям.`,methods:[],displayName:"FeaturedLatestSection",props:{featured:{required:!0,tsType:{name:"Array",elements:[{name:"IProduct"}],raw:"IProduct[]"},description:""},latest:{required:!0,tsType:{name:"Array",elements:[{name:"IProduct"}],raw:"IProduct[]"},description:""},onAddToCart:{required:!1,tsType:{name:"signature",type:"function",raw:"(p: IProduct) => void",signature:{arguments:[{type:{name:"IProduct"},name:"p"}],return:{name:"void"}}},description:""},onToggleLike:{required:!1,tsType:{name:"signature",type:"function",raw:"(p: IProduct) => void",signature:{arguments:[{type:{name:"IProduct"},name:"p"}],return:{name:"void"}}},description:""}}};function F(s,f){const b=new Set(f);return s.filter(g=>b.has(g.id))}const k=F($,[1,2,3,4]),A=F($,[5,6,7,8]),z={title:"pages/HomePage/FeaturedLatestSection",component:i,parameters:{layout:"fullscreen",backgrounds:{default:"white",values:[{name:"white",value:"#ffffff"}]}},decorators:[s=>a.jsx("div",{className:"bg-white-0",children:a.jsx(s,{})})]},l={render:s=>a.jsx(i,{...s}),args:{featured:k,latest:A}},m={render:s=>a.jsx(i,{...s}),args:{featured:k,latest:[]}},p={render:s=>a.jsx(i,{...s}),args:{featured:[],latest:A}};var h,P,v;l.parameters={...l.parameters,docs:{...(h=l.parameters)==null?void 0:h.docs,source:{originalSource:`{
  render: args => <FeaturedLatestSection {...args} />,
  args: {
    featured: featuredProducts,
    latest: latestProducts
  }
}`,...(v=(P=l.parameters)==null?void 0:P.docs)==null?void 0:v.source}}};var j,I,w;m.parameters={...m.parameters,docs:{...(j=m.parameters)==null?void 0:j.docs,source:{originalSource:`{
  render: args => <FeaturedLatestSection {...args} />,
  args: {
    featured: featuredProducts,
    latest: []
  }
}`,...(w=(I=m.parameters)==null?void 0:I.docs)==null?void 0:w.source}}};var L,S,T;p.parameters={...p.parameters,docs:{...(L=p.parameters)==null?void 0:L.docs,source:{originalSource:`{
  render: args => <FeaturedLatestSection {...args} />,
  args: {
    featured: [],
    latest: latestProducts
  }
}`,...(T=(S=p.parameters)==null?void 0:S.docs)==null?void 0:T.source}}};const J=["Default","OnlyFeatured","OnlyLatest"];export{l as Default,m as OnlyFeatured,p as OnlyLatest,J as __namedExportsOrder,z as default};
