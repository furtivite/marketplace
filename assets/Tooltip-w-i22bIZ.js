import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./index-D4lIrffr.js";import{c as d}from"./clsx-B-dksMZM.js";import{T as B,a as M}from"./Typography-DJ2vrFdG.js";let S=0;const V=({children:y,text:x,position:e="top",adaptive:m=!0,insetArrow:i=!1})=>{const[r,o]=t.useState(!1),[u,v]=t.useState(e),[w,f]=t.useState(!1),p=t.useRef(null),c=t.useRef(null),b=t.useRef(`tooltip-${++S}`);t.useEffect(()=>{let g;return r&&(g=requestAnimationFrame(()=>{if(!p.current||!c.current)return;const a=c.current.getBoundingClientRect(),l=p.current.getBoundingClientRect(),E=window.innerWidth,N=window.innerHeight,s={top:a.top,bottom:N-a.bottom,left:a.left,right:E-a.right},h={top:s.top>=l.height+8,bottom:s.bottom>=l.height+8,left:s.left>=l.width+8,right:s.right>=l.width+8},P={top:["bottom","left","right"],bottom:["top","left","right"],left:["right","top","bottom"],right:["left","top","bottom"]},A=m&&!h[e]?P[e].find(I=>h[I])??e:e;v(A),f(!0)})),()=>{r&&cancelAnimationFrame(g)}},[r,e,m]);const R="absolute w-0 h-0 border-8 border-transparent",T={top:"top-full left-1/2 -translate-x-1/2 border-t-gray-900",bottom:"bottom-full left-1/2 -translate-x-1/2 border-b-gray-900",left:"left-full top-1/2 -translate-y-1/2 border-l-gray-900 -ml-[1px]",right:"right-full top-1/2 -translate-y-1/2 border-r-gray-900 -mr-[1px]"},j={top:"-bottom-4 left-1/2 -translate-x-1/2 border-t-gray-900",bottom:"top-0 left-1/2 -translate-x-1/2 border-b-gray-900",left:"right-0 top-1/2 -translate-y-1/2 border-l-gray-900",right:"left-0 top-1/2 -translate-y-1/2 border-r-gray-900"},q={top:i?"-top-2 left-1/2 -translate-x-1/2 -translate-y-full":"top-0 left-1/2 -translate-x-1/2 -translate-y-full",bottom:"bottom-0 left-1/2 -translate-x-1/2 translate-y-full",left:"left-0 top-1/2 -translate-x-full -translate-y-1/2",right:"right-0 top-1/2 translate-x-full -translate-y-1/2"};return n.jsxs("div",{ref:c,onMouseEnter:()=>{f(!1),o(!0)},onMouseLeave:()=>o(!1),onFocus:()=>{f(!1),o(!0)},onBlur:()=>o(!1),role:"button",tabIndex:0,"aria-haspopup":!0,"aria-describedby":b.current,className:d(i?"w-full relative":"inline-block relative"),children:[n.jsx(B,{as:"div",type:M.LABEL,children:y}),r&&n.jsxs("div",{role:"tooltip",id:b.current,ref:p,className:d("absolute z-10 px-3 py-1 text-sm text-white-0 bg-gray-900 rounded shadow max-w-[420px] w-max",w?q[u]:"invisible"),children:[x,n.jsx("span",{className:d(R,i?j[u]:T[u])})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},text:{required:!0,tsType:{name:"string"},description:""},position:{required:!1,tsType:{name:"union",raw:"'top' | 'bottom' | 'left' | 'right'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}]},description:"",defaultValue:{value:"'top'",computed:!1}},adaptive:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},insetArrow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{V as T};
